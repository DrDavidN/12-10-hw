# «Helm» - Дрибноход Давид Николаевич

### Задание 1. Подготовить Helm-чарт для приложения

1. Необходимо упаковать приложение в чарт для деплоя в разные окружения. 

#### Ответ

Устанавливаю на ноду helm

![image](https://github.com/DrDavidN/12-10-hw/assets/128225763/81f0e5eb-f7a8-4c93-a112-73a0c91b32e4)

Создаю helm chart с именем myhelm-grafana

![image](https://github.com/DrDavidN/12-10-hw/assets/128225763/52287c6f-8e82-4b37-8505-879c0c608a8e)

2. Каждый компонент приложения деплоится отдельным deployment’ом или statefulset’ом.
3. В переменных чарта измените образ приложения для изменения версии.

#### Ответ

Создаю два файла values - values_dvl.yaml и values_test.yaml для DEVELOP и TEST окружения, дописываю в них параметры для запуска Grafana, имя образа, тег, порт. Приложения будут развернуты отдельными Deployment.

------

### Задание 2. Запустить две версии в разных неймспейсах

1. Подготовив чарт, необходимо его проверить. Запуститe несколько копий приложения.
2. Одну версию в namespace=app1, вторую версию в том же неймспейсе, третью версию в namespace=app2.
3. Продемонстрируйте результат.

#### Ответ

Создам отдельный Namespace с именем app1, запущу обе версии приложения в этом Namespace

![image](https://github.com/DrDavidN/12-10-hw/assets/128225763/d37ee45b-202b-4fa5-aab1-d431231242de)

Проверяю результат

![image](https://github.com/DrDavidN/12-10-hw/assets/128225763/e301e735-7e42-42ab-8f56-2b1d7162d616)

Разверну еще одну версию приложения в namespace app2

![image](https://github.com/DrDavidN/12-10-hw/assets/128225763/f90f653c-d480-4cb2-a0e8-5e1674498315)

Проброшу порт и проверю откроется ли web-интерфейс

![image](https://github.com/DrDavidN/12-10-hw/assets/128225763/56cc4c5a-3313-4359-8c67-946c55881eb5)

Открылась версия Grafana v11.1.0, что соответствует указанному в файле переменных values_preprod.yaml.

![image](https://github.com/DrDavidN/12-10-hw/assets/128225763/818a9c3e-a354-4a58-b1c5-8bcd26b35bfe)


------
